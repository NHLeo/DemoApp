eventsApp.factory('eventData', ['$q', '$resource', function EventData($q, $resource) {   var resource = $resource('/app/data/event/:id', {        id: '@id'    }, {        "getAll": {            method: "GET",            isArray: true,            params: {                something: "foo"            }        }    });
    return {        getEvent: function(eventId) {            return resource.get({                id: eventId            });        },        save: function save(event) {
            var tempid = 0;
            resource.query(function(events) {                angular.forEach(events, function(temp_event) {                    if (temp_event.id > tempid) {                        tempid = temp_event.id;                        console.log("----" + tempid + "----");                    }                });
            }).$promise.then(function(response) {                console.log('success1', response);                event.id = tempid + 1;                console.log("New event id " + event.id);                return resource.save(event).$promise;
            }).catch(function(response) {                console.log('failure1', response)            });
        },        getAllEvents: function() {            return resource.query();        }    };}]);